"use strict";var PreliquifyRuntime=(()=>{var d=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var f=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&f(e,n,t[n]);if(p)for(var n of p(t))q.call(t,n)&&f(e,n,t[n]);return e};var h=(e,t)=>{for(var n in t)d(e,n,{get:t[n],enumerable:!0})},E=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of b(t))!y.call(e,r)&&r!==n&&d(e,r,{get:()=>t[r],enumerable:!(o=g(t,r))||o.enumerable});return e};var v=e=>E(d({},"__esModule",{value:!0}),e);var I={};h(I,{Preliquify:()=>w});function m(e,t,n,o){try{let r=window.preact;if(!r)throw new Error("Preact not found. Make sure preact is bundled or loaded before hydration.");let i=r.h(t,n);r.render(i,e);let s=e.getAttribute("data-preliq-id");s&&o.mounted.set(s,{element:e,Component:t,props:n})}catch(r){o.errors.push(r),o.debug&&(console.error("[__PRELIQUIFY__] Hydration error:",r),console.error("Element:",e),console.error("Component:",t),console.error("Props:",n)),e.setAttribute("data-preliq-error","true"),e.dispatchEvent(new CustomEvent("preliquify:error",{detail:{error:r,component:t.name||"Unknown",props:n},bubbles:!0}))}}function P(e){var o;let t=e.querySelector("script[data-preliq-props]");if(t)try{let i=(t.textContent||"").trim();if(i)return i.includes("{%")||i.includes("{{")?(console.warn("[Preliquify] Script tag contains Liquid expressions - Liquid may not have processed this template. Content:",i.substring(0,200)),{}):JSON.parse(i)}catch(r){console.warn("[Preliquify] Failed to parse props from script:",r),console.warn("[Preliquify] Script content:",(o=t.textContent)==null?void 0:o.substring(0,200))}let n=e.getAttribute("data-preliq-props");if(!n)return{};try{return JSON.parse(n)}catch(r){return console.warn("[Preliquify] Failed to parse props:",n,r),{}}}function R(e){let t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight),o=Math.max(document.documentElement.clientWidth,window.innerWidth),r=100;return!(t.bottom<-r||t.top>n+r||t.right<-r||t.left>o+r)}function l(e){let t=document.querySelectorAll("[data-preliq-island]:not([data-preliq-hydrated])"),n=[],o=[];if(t.forEach(r=>{R(r)?n.push(r):o.push(r)}),n.forEach(r=>{c(r,e)}),o.length>0&&"IntersectionObserver"in window){let r=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting&&(c(s.target,e),r.unobserve(s.target))})},{rootMargin:"100px"});o.forEach(i=>r.observe(i))}else o.forEach(r=>c(r,e))}function c(e,t){var s;if(e.hasAttribute("data-preliq-hydrated"))return;let n=e.getAttribute("data-preliq-island"),o=e.getAttribute("data-preliq-id");if(!n){console.warn("[Preliquify] Island missing component name:",e);return}let r=t.components.get(n)||((s=window.e)==null?void 0:s[n]);if(!r){console.warn(`[Preliquify] Component "${n}" not found`),console.warn("[Preliquify] Available components:",Array.from(t.components.keys())),console.warn("[Preliquify] Available in window.__PRELIQUIFY__:",Object.keys(window.e||{})),e.setAttribute("data-preliq-error","component-not-found");return}let i=P(e);m(e,r,i,t),e.setAttribute("data-preliq-hydrated","true"),e.dispatchEvent(new CustomEvent("preliquify:hydrated",{detail:{id:o,component:n},bubbles:!0}))}function A(){if(window.t)return window.t;let e={components:new Map,mounted:new Map,errors:[],debug:window.n||!1};return window.t=e,window.e||(window.e={}),e}var a=A();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>l(a)):"requestIdleCallback"in window?window.requestIdleCallback(()=>l(a)):setTimeout(()=>l(a),0);var w={register(e,t){a.components.set(e,t),window.e[e]=t},hydrate(e){(e||document.body).querySelectorAll("[data-preliq-island]:not([data-preliq-hydrated])").forEach(o=>c(o,a))},getComponent(e){return a.mounted.get(e)},getErrors(){return[...a.errors]},setDebug(e){a.debug=e},unmount(e){let t=a.mounted.get(e);if(!t)return!1;let n=window.preact;return n?(n.render(null,t.element),a.mounted.delete(e),t.element.removeAttribute("data-preliq-hydrated"),!0):!1},update(e,t){let n=a.mounted.get(e);if(!n)return!1;let o=u(u({},n.props),t);return m(n.element,n.Component,o,a),n.props=o,!0}};window.e=w;return v(I);})();
