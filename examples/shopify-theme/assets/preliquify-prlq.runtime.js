"use strict";var PreliquifyRuntime=(()=>{var d=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&p(e,r,t[r]);if(f)for(var r of f(t))b.call(t,r)&&p(e,r,t[r]);return e};var h=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},P=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!y.call(e,n)&&n!==r&&d(e,n,{get:()=>t[n],enumerable:!(o=q(t,n))||o.enumerable});return e};var E=e=>P(d({},"__esModule",{value:!0}),e);var C={};h(C,{Preliquify:()=>w});function m(e,t,r,o){try{let n=window.preact;if(!n)throw new Error("Preact not found. Make sure preact is loaded before hydration.");let i=n.h(t,r);n.render(i,e);let a=e.getAttribute("data-preliq-id");a&&o.mounted.set(a,{element:e,Component:t,props:r})}catch(n){o.errors.push(n),o.debug&&(console.error("[Preliquify] Hydration error:",n),console.error("Element:",e),console.error("Component:",t),console.error("Props:",r)),e.setAttribute("data-preliq-error","true"),e.dispatchEvent(new CustomEvent("preliquify:error",{detail:{error:n,component:t.name||"Unknown",props:r},bubbles:!0}))}}function v(e){var o;let t=e.querySelector("script[data-preliq-props]");if(t)try{let i=(t.textContent||"").trim();if(i)return i.includes("{%")||i.includes("{{")?(console.warn("[Preliquify] Script tag contains Liquid expressions - Liquid may not have processed this template. Content:",i.substring(0,200)),{}):JSON.parse(i)}catch(n){console.warn("[Preliquify] Failed to parse props from script:",n),console.warn("[Preliquify] Script content:",(o=t.textContent)==null?void 0:o.substring(0,200))}let r=e.getAttribute("data-preliq-props");if(!r)return{};try{return JSON.parse(r)}catch(n){return console.warn("[Preliquify] Failed to parse props:",r,n),{}}}function R(e){let t=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight),o=Math.max(document.documentElement.clientWidth,window.innerWidth),n=100;return!(t.bottom<-n||t.top>r+n||t.right<-n||t.left>o+n)}function l(e){let t=document.querySelectorAll("[data-preliq-island]:not([data-preliq-hydrated])"),r=[],o=[];if(t.forEach(n=>{R(n)?r.push(n):o.push(n)}),r.forEach(n=>{u(n,e)}),o.length>0&&"IntersectionObserver"in window){let n=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&(u(a.target,e),n.unobserve(a.target))})},{rootMargin:"100px"});o.forEach(i=>n.observe(i))}else o.forEach(n=>u(n,e))}function u(e,t){var a;if(e.hasAttribute("data-preliq-hydrated"))return;let r=e.getAttribute("data-preliq-island"),o=e.getAttribute("data-preliq-id");if(!r){console.warn("[Preliquify] Island missing component name:",e);return}let n=t.components.get(r)||((a=window.Preliquify)==null?void 0:a[r]);if(!n){console.warn(`[Preliquify] Component "${r}" not found`),console.warn("[Preliquify] Available components:",Array.from(t.components.keys())),console.warn("[Preliquify] Available in window.Preliquify:",Object.keys(window.Preliquify||{})),e.setAttribute("data-preliq-error","component-not-found");return}let i=v(e);m(e,n,i,t),e.setAttribute("data-preliq-hydrated","true"),e.dispatchEvent(new CustomEvent("preliquify:hydrated",{detail:{id:o,component:r},bubbles:!0}))}function A(){if(window.e)return window.e;let e={components:new Map,mounted:new Map,errors:[],debug:window.t||!1};return window.e=e,window.Preliquify||(window.Preliquify={}),e}var s=A();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>l(s)):"requestIdleCallback"in window?window.requestIdleCallback(()=>l(s)):setTimeout(()=>l(s),0);var w={register(e,t){s.components.set(e,t),window.Preliquify[e]=t},hydrate(e){(e||document.body).querySelectorAll("[data-preliq-island]:not([data-preliq-hydrated])").forEach(o=>u(o,s))},getComponent(e){return s.mounted.get(e)},getErrors(){return[...s.errors]},setDebug(e){s.debug=e},unmount(e){let t=s.mounted.get(e);if(!t)return!1;let r=window.preact;return r?(r.render(null,t.element),s.mounted.delete(e),t.element.removeAttribute("data-preliq-hydrated"),!0):!1},update(e,t){let r=s.mounted.get(e);if(!r)return!1;let o=c(c({},r.props),t);return m(r.element,r.Component,o,s),r.props=o,!0}};window.r=w;return E(C);})();
